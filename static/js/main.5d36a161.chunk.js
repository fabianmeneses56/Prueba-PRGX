(this["webpackJsonpprueba-tecnica-prgx"]=this["webpackJsonpprueba-tecnica-prgx"]||[]).push([[0],{114:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return k}));var a=n(147),c=n.n(a),r=n(198),s=n(7),i=n(0),o=n(40),l=n(20),u=n(213),d=n(211),j=n.n(d),b=n(212),h=n.n(b),m=n(21),O=n.n(m),x=n(199),f=n(201),p=n(34),g=n(223),v=n(115),N=(n(332),n(2)),C=Object(i.createContext)(),k=function(){var t=Object(l.g)(),n=Object(i.useState)([]),a=Object(s.a)(n,2),d=a[0],b=a[1],m=Object(i.useState)(null),k=Object(s.a)(m,2),A=k[0],w=k[1],S=Object(i.useContext)(p.a),y=S.token,F=S.setToken;Object(i.useEffect)((function(){Object(f.a)(y).then((function(e){return b(e.data.data)}))}),[y]);var B=d.map((function(e){return{id:e._id,description:e.description,completed:e.completed,createdAt:e.createdAt,updatedAt:e.updatedAt}})),z=function(){var t=Object(r.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,e.browser;case 3:if(t.t0=t.sent,!t.t0){t.next=6;break}window.sessionStorage.removeItem("secret_key");case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(N.jsx)("div",{children:Object(N.jsx)(C.Provider,{value:{selectId:A,setSelectId:w},children:Object(N.jsxs)("div",{className:"generalContainer",children:[Object(N.jsx)("h3",{className:"textFooter",children:"Home"}),Object(N.jsxs)("section",{className:"containerButtons",children:[Object(N.jsx)(o.a,{variant:"contained",size:"small",color:"primary",onClick:function(){t.push("/home/profileSettings")},children:"Profile Settings"}),Object(N.jsx)(o.a,{variant:"contained",size:"small",color:"primary",onClick:function(){t.push("/home/profile")},children:"Profile"}),Object(N.jsx)(o.a,{variant:"contained",size:"small",color:"secondary",className:"WithButton",onClick:function(){Object(x.a)(y).then((function(e){return e.data.success?(F(null),z(),O.a.fire("success","LogOut successfully","success")):O.a.fire("Error","An error has occurred","error")}))},children:"LogOut"}),Object(N.jsxs)("section",{className:"secondaryButtonsHome",children:[Object(N.jsx)("article",{className:"ButonMargin",children:Object(N.jsxs)(o.a,{variant:"contained",color:"primary",onClick:function(){t.push("/home/newTask")},children:["New Task",Object(N.jsx)(j.a,{})]})}),Object(N.jsxs)(o.a,{variant:"contained",color:"secondary",onClick:function(e){Object(v.a)(y,A).then((function(e){return e.data.success?O.a.fire("success","task deleted successfully","success"):O.a.fire("Error","An error has occurred","error")}))},children:["Remove Selected",Object(N.jsx)(h.a,{})]})]})]}),Object(N.jsx)("section",{className:"tableContainer",children:Object(N.jsx)(u.a,{getRowId:function(e){return e.id},rows:B,columns:g.a,pageSize:5,checkboxSelection:!1,disableSelectionOnClick:!0})}),Object(N.jsx)("footer",{className:"FooterContainerHome",children:Object(N.jsx)("h3",{className:"textFooter",children:"Footer"})})]})})})}}).call(this,n(102))},115:function(e,t,n){"use strict";var a=n(26);t.a=function(e,t){return a.a.delete("/task/".concat(t),{},{headers:{Accept:"application/json",Authorization:"Bearer ".concat(e)}})}},196:function(e,t,n){},199:function(e,t,n){"use strict";var a=n(26);t.a=function(e){return a.a.post("/user/logout",{},{headers:{Authorization:"Bearer ".concat(e)}})}},201:function(e,t,n){"use strict";var a=n(26);t.a=function(e){return a.a.get("/task",{},{headers:{Accept:"application/json",Authorization:"Bearer ".concat(e)}})}},220:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return O}));var a=n(0),c=n(40),r=n(35),s=n(21),i=n.n(s),o=n(20),l=n(45),u=n(66),d=n(221),j=n(222),b=n(34),h=(n(196),n(2)),m={email:"",password:""},O=function(){var t=Object(a.useContext)(b.a).setToken,n=Object(o.g)(),s=function(t){e.browser&&window.sessionStorage.setItem("secret_key",t)},O=function(){n.push("/auth/register")};return Object(h.jsx)(r.b,{initialValues:m,onSubmit:function(e){var n=e.email,a=e.password;Object(j.a)(n,a).then((function(e){return e.ok?(t(e.data.token),s(e.data.token),i.a.fire("success","successfully logged in","success")):i.a.fire("Error","An error has occurred","error")}))},validationSchema:d.a,children:function(){return Object(h.jsx)(r.a,{children:Object(h.jsxs)("div",{className:"Container",children:[Object(h.jsxs)("section",{className:"sectionContainer",children:[Object(h.jsx)(l.a,{label:"Email",name:"email"}),Object(h.jsx)(l.a,{label:"password",name:"password"}),Object(h.jsxs)("article",{className:"ButtonsContainer",children:[Object(h.jsx)(u.a,{title:"login"}),Object(h.jsx)(c.a,{variant:"contained",size:"small",color:"primary",className:"WithButton",onClick:O,children:"Signup"})]})]}),Object(h.jsx)("footer",{className:"FooterContainer",children:Object(h.jsx)("h3",{className:"textFooter",children:"Footer"})})]})})}})}}).call(this,n(102))},221:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(32),c=a.a().shape({password:a.b().required("password is required.").min(7,"minimum 7 characters"),email:a.b().required("email is required.")})},222:function(e,t,n){"use strict";var a=n(26);t.a=function(e,t){return a.a.post("/user/login",{email:e,password:t},{headers:{Accept:"application/json"}})}},223:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var a=n(7),c=n(0),r=n(21),s=n.n(r),i=n(89),o=n(206),l=n.n(o),u=n(207),d=n.n(u),j=n(74),b=n(50),h=n(209),m=n.n(h),O=n(208),x=n.n(O),f=n(26),p=function(e,t){return f.a.put("/task/".concat(t),{completed:!0},{headers:{Accept:"application/json",Authorization:"Bearer ".concat(e)}})},g=n(115),v=n(34),N=n(114),C=n(2),k=Object(j.b)(),A=Object(b.a)((function(e){return{root:{display:"inline-flex",alignItems:"center",gap:e.spacing(1),color:e.palette.text.secondary},textPrimary:{color:e.palette.text.primary}}}),{defaultTheme:k}),w=[{field:"check",headerName:"Check",renderCell:function(e){var t=e.id,n=A(),r=Object(c.useContext)(N.a).setSelectId,s=Object(c.useState)(!1),o=Object(a.a)(s,2),l=o[0],u=o[1];return Object(C.jsx)("div",{className:n.root,children:Object(C.jsx)(i.a,{color:"inherit",className:n.textPrimary,size:"small","aria-label":"edit",onClick:function(e){u(!l),r(t)},children:l?Object(C.jsx)(x.a,{}):Object(C.jsx)(m.a,{})})})},sortable:!1,width:180,headerAlign:"center",filterable:!1,align:"center",disableColumnMenu:!0,disableReorder:!0},{field:"description",headerName:"Description",width:150,editable:!1,headerAlign:"center",align:"center"},{field:"completed",headerName:"Completed",width:150,editable:!1,headerAlign:"center",align:"center"},{field:"createdAt",headerName:"Created at",width:200,editable:!1,headerAlign:"center",align:"center"},{field:"updatedAt",headerName:"Updated at",editable:!1,width:200,headerAlign:"center",align:"center"},{field:"actions",headerName:"Actions",renderCell:function(e){var t=e.api,n=e.id,a=Object(c.useContext)(v.a).token,r=A();return Object(C.jsxs)("div",{className:r.root,children:[Object(C.jsx)(i.a,{color:"inherit",className:r.textPrimary,size:"small","aria-label":"edit",onClick:function(e){p(a,n).then((function(e){return e.data.success?s.a.fire("success","task updated successfully","success"):s.a.fire("Error","An error has occurred","error")})),e.stopPropagation(),t.updateRows([{id:n,_action:"update"}])},children:Object(C.jsx)(l.a,{fontSize:"small"})}),Object(C.jsx)(i.a,{color:"inherit",size:"small","aria-label":"delete",onClick:function(e){Object(g.a)(a,n).then((function(e){return e.data.success?s.a.fire("success","task deleted successfully","success"):s.a.fire("Error","An error has occurred","error")})),e.stopPropagation(),t.updateRows([{id:n,_action:"delete"}])},children:Object(C.jsx)(d.a,{fontSize:"small"})})]})},sortable:!1,width:180,headerAlign:"center",filterable:!1,align:"center",disableColumnMenu:!0,disableReorder:!0}]},250:function(e,t,n){},26:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(200),c=Object(a.create)({baseURL:"https://api-nodejs-todolist.herokuapp.com"})},332:function(e,t,n){},34:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),c=Object(a.createContext)()},432:function(e,t,n){},433:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(14),r=n.n(c),s=(n(250),n(7)),i=n(34),o=n(62),l=n(20),u=n(114),d=n(35),j=n(21),b=n.n(j),h=n(45),m=n(66),O=n(32),x=O.a().shape({description:O.b().required("description is required.")}),f=n(26),p=function(e,t){return f.a.post("/task",{description:e},{headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)}})},g=n(40),v=n(2),N=function(){var e=Object(l.g)();return Object(v.jsx)(g.a,{variant:"contained",color:"secondary",onClick:function(){e.goBack()},size:"small",children:"Go back"})},C={description:""},k=function(){var e=Object(a.useContext)(i.a).token;return Object(v.jsx)(d.b,{initialValues:C,onSubmit:function(t){var n=t.description;p(n,e).then((function(e){return e.ok?b.a.fire("success","Task created successfully","success"):b.a.fire("Error","An error has occurred","error")}))},validationSchema:x,children:function(){return Object(v.jsxs)("div",{className:"generalContainer",children:[Object(v.jsxs)("div",{children:[Object(v.jsx)(N,{}),Object(v.jsx)("h3",{className:"textFooter",children:"New Task"})]}),Object(v.jsx)(d.a,{children:Object(v.jsxs)("div",{className:"Container",children:[Object(v.jsxs)("section",{className:"sectionContainer",children:[Object(v.jsx)(h.a,{label:"description",name:"description"}),Object(v.jsx)("article",{className:"ButtonsContainer",children:Object(v.jsx)(m.a,{title:"Add Task"})})]}),Object(v.jsx)("footer",{className:"FooterContainer",children:Object(v.jsx)("h3",{className:"textFooter",children:"Footer"})})]})})]})}})},A=n(483),w=n(173),S=function(e){return f.a.get("/user/me",{},{headers:{Authorization:"Bearer ".concat(e)}})},y=n(481),F=(n(432),Object(w.a)((function(e){return{orange:{color:e.palette.getContrastText(y.a[500]),backgroundColor:y.a[500],width:60,height:60}}}))),B=function(){var e=Object(a.useContext)(i.a).token,t=Object(a.useState)([]),n=Object(s.a)(t,2),c=n[0],r=n[1],o=F();Object(a.useEffect)((function(){S(e).then((function(e){return r(e.data)}))}),[e]);var l=c.name?c.name.slice(0,2):[];return Object(v.jsxs)("div",{className:"generalContainer",children:[Object(v.jsxs)("div",{children:[Object(v.jsx)(N,{}),Object(v.jsx)("h3",{className:"textFooter",children:"New Task"})]}),Object(v.jsxs)("div",{className:"Contaier",children:[Object(v.jsxs)("section",{className:"ContainerSectionWelcome",children:[Object(v.jsxs)("h3",{children:["Hi ",c.name]}),Object(v.jsx)("h3",{children:"we are very happy to have you back"})]}),Object(v.jsxs)("section",{className:"ContainerInfo",children:[Object(v.jsx)("article",{className:"AvatarContainer",children:Object(v.jsx)(A.a,{className:o.orange,children:l})}),Object(v.jsxs)("article",{className:"InsideContainer",children:[Object(v.jsxs)("h3",{className:"TextInfo",children:["Name : ",c.name]}),Object(v.jsxs)("h3",{className:"TextInfo",children:["Email : ",c.email]}),Object(v.jsxs)("h3",{className:"TextInfo",children:["Age: ",c.age]})]})]})]}),Object(v.jsx)("footer",{className:"FooterContainer",children:Object(v.jsx)("h3",{className:"textFooter",children:"Footer"})})]})},z=O.a().shape({name:O.b().required("Name is required."),age:O.b().required("Age is required.")}),q=function(e,t,n){return f.a.put("/user/me",{name:e,age:Number(t)},{headers:{Accept:"application/json",Authorization:"Bearer ".concat(n)}})},E={name:"",age:""},I=function(){var e=Object(a.useContext)(i.a).token,t=Object(a.useState)([]),n=Object(s.a)(t,2),c=n[0],r=n[1];Object(a.useEffect)((function(){S(e).then((function(e){return r(e.data)}))}),[e]);return Object(v.jsxs)("div",{className:"generalContainer",children:[Object(v.jsxs)("div",{children:[Object(v.jsx)(N,{}),Object(v.jsx)("h3",{className:"textFooter",children:"Profile Settings"})]}),Object(v.jsx)(d.b,{initialValues:E,onSubmit:function(t){var n=t.name,a=t.age;q(n,a,e).then((function(e){return e.ok?b.a.fire("success","user updated successfully","success"):b.a.fire("Error","An error has occurred","error")}))},validationSchema:z,children:function(){return Object(v.jsx)(d.a,{children:Object(v.jsxs)("div",{className:"Container",children:[Object(v.jsxs)("section",{className:"sectionContainer",children:[Object(v.jsx)(h.a,{label:"Name",name:"name",preloadedInfoFromBackend:c.name}),Object(v.jsx)(h.a,{label:"Age",name:"age",preloadedInfoFromBackend:c.age}),Object(v.jsx)("article",{className:"ButtonsContainer",children:Object(v.jsx)(m.a,{title:" Edit Profile"})})]}),Object(v.jsx)("footer",{className:"FooterContainer",children:Object(v.jsx)("h3",{className:"textFooter",children:"Footer"})})]})})}})]})},T=n(220),P=O.a().shape({password:O.b().required("password is required.").min(7,"minimum 7 characters"),email:O.b().required("email is required."),name:O.b().required("Name is required."),age:O.b().required("Age is required.")}),R=function(e,t,n,a){return f.a.post("/user/register",{name:e,email:t,password:n,age:Number(a)},{headers:{Accept:"application/json"}})},V=(n(196),{email:"",password:"",name:"",age:""}),_=function(){return Object(v.jsx)(d.b,{initialValues:V,onSubmit:function(e){var t=e.email,n=e.password,a=e.name,c=e.age;R(a,t,n,c).then((function(e){return e.ok?b.a.fire("success","registered user","success"):b.a.fire("Error","An error has occurred","error")}))},validationSchema:P,children:function(){return Object(v.jsx)(d.a,{children:Object(v.jsxs)("div",{className:"Container",children:[Object(v.jsx)("div",{clasName:"backRegister",children:Object(v.jsx)(N,{})}),Object(v.jsxs)("section",{className:"sectionContainer",children:[Object(v.jsx)(h.a,{label:"Name",name:"name"}),Object(v.jsx)(h.a,{label:"Age",name:"age"}),Object(v.jsx)(h.a,{label:"Email",name:"email"}),Object(v.jsx)(h.a,{label:"password",name:"password"}),Object(v.jsx)("article",{className:"ButtonsContainer",children:Object(v.jsx)(m.a,{title:" Signup"})})]}),Object(v.jsx)("footer",{className:"FooterContainer",children:Object(v.jsx)("h3",{className:"textFooter",children:"Footer"})})]})})}})},H=function(){return Object(v.jsx)("div",{children:Object(v.jsx)("div",{children:Object(v.jsxs)(l.d,{children:[Object(v.jsx)(l.b,{exact:!0,path:"/auth/login",component:T.a}),Object(v.jsx)(l.b,{exact:!0,path:"/auth/register",component:_}),Object(v.jsx)(l.a,{to:"/auth/login"})]})})})},L=n(72),M=n(128),W=["isAuthenticated","component"],J=function(e){var t=e.isAuthenticated,n=e.component,a=Object(M.a)(e,W);return Object(v.jsx)(l.b,Object(L.a)(Object(L.a)({},a),{},{component:function(e){return t?Object(v.jsx)(n,Object(L.a)({},e)):Object(v.jsx)(l.a,{to:"/auth/login"})}}))},U=["isAuthenticated","component"],D=function(e){var t=e.isAuthenticated,n=e.component,a=Object(M.a)(e,U);return Object(v.jsx)(l.b,Object(L.a)(Object(L.a)({},a),{},{component:function(e){return t?Object(v.jsx)(l.a,{to:"/"}):Object(v.jsx)(n,Object(L.a)({},e))}}))},G=function(){var e=Object(a.useContext)(i.a).token;return Object(v.jsx)(o.a,{children:Object(v.jsx)("div",{children:Object(v.jsxs)(l.d,{children:[Object(v.jsx)(D,{path:"/auth",component:H,isAuthenticated:e}),Object(v.jsx)(J,{exact:!0,path:"/",component:u.b,isAuthenticated:e}),Object(v.jsx)(l.b,{exact:!0,path:"/home/profile",component:B}),Object(v.jsx)(l.b,{exact:!0,path:"/home/profileSettings",component:I}),Object(v.jsx)(l.b,{exact:!0,path:"/home/newTask",component:k}),Object(v.jsx)(l.a,{to:"/auth/login"})]})})})};var K=function(){var e=Object(a.useState)(null),t=Object(s.a)(e,2),n=t[0],c=t[1];return console.log(n),Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(i.a.Provider,{value:{token:n,setToken:c},children:Object(v.jsx)(G,{})})})};r.a.render(Object(v.jsx)(K,{}),document.getElementById("root"))},45:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0),c=n(35),r=n(100),s=n(2),i=function(e){var t=e.label,n=e.name,i=e.preloadedInfoFromBackend,o=Object(c.c)(),l=o.handleBlur,u=o.handleChange,d=o.setFieldValue,j=o.errors,b=o.touched,h=o.values;Object(a.useEffect)((function(){i&&d(n,i)}),[i]);var m=j[n],O=b[n];return Object(s.jsx)(s.Fragment,{children:m&&O?Object(s.jsx)(r.a,{error:!0,id:"standard-basic",label:"Error",helperText:m,onBlur:l,onChange:u,value:h[n],name:n}):Object(s.jsx)(r.a,{id:"standard-basic",label:t,onBlur:l,onChange:u,value:h[n],name:n})})}},66:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(0);var a=n(40),c=n(35),r=n(2),s=function(e){var t=e.title,n=(e.isSubmitting,Object(c.c)().handleSubmit);return Object(r.jsx)(a.a,{variant:"contained",size:"small",color:"primary",onClick:n,type:"submit",children:t})}}},[[433,1,2]]]);
//# sourceMappingURL=main.5d36a161.chunk.js.map